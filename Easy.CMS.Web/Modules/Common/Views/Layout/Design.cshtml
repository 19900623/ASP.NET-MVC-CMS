@using Easy.CMS.Widget
@model Easy.CMS.Layout.LayoutEntity
@{
    Layout = "~/Modules/Common/Views/Shared/_DesignLayout.cshtml";
    if (Model == null || Model.Html == null)
    {
        return;
    }
    bool zoneStart = false;
}

@foreach (var item in Model.Html)
{
    if (item.Html == Easy.CMS.Zone.ZoneEntity.ZoneTag)
    {
        @Html.Raw(item.Html)
        zoneStart = true;
        continue;
    }
    if (zoneStart)
    {
        var zone = Model.Zones.Where(m => m.ID == item.Html);
        if (zone.Any())
        {
            <input class="form-control" type="text" name="ZoneName" placeholder="输入名称" value="@zone.First().ZoneName" />
            <input class="form-control" type="hidden" name="LayoutId" value="@zone.First().LayoutId" />
            <input class="form-control" type="hidden" name="ID" value="@zone.First().ID" />
            zoneStart = false;

            @*if (Model.ZoneWidgets.ContainsKey(item.Html))
            {
                foreach (WidgetPart widget in Model.ZoneWidgets[item.Html].OrderBy(m => m.Position))
                {
                    <div class="widget" id="widget_@widget.WidgetId" data-widgetid="@widget.WidgetId">
                        <div class="zoneToolbar container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    @widget.WidgetName
                                </div>
                                <div class="col-md-6 rightTool">
                                    <a href="@Url.Action("Edit","Widget",new{module="Common",ID=widget.WidgetId})"><i class="glyphicon glyphicon-edit"></i></a>
                                    <a href="javascript:void(0)" class="delete" data-id="@widget.WidgetId"><i class="glyphicon glyphicon-trash"></i></a>
                                </div>
                            </div>
                        </div>
                        @{
                    Html.RenderPartial(widget.PartialView, widget.ViewModel);
                        }
                    </div>
                }
            }*@
            continue;
        }
    }
    if (item.Html == Easy.CMS.Zone.ZoneEntity.ZoneEndTag)
    {
        @Html.Raw(item.Html)
        zoneStart = false;
        continue;
    }
    @Html.Raw(item.Html)
}